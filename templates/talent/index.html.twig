{% extends 'base.html.twig' %}

{% block title %}Liste des talents{% endblock %}

{% block body %}
<main>
<section id="talentSection">
    {% include "filter.html.twig" %}
    <div class="introContainer">
    {% if version == "normal" %}
        <h1>A la recherche d’un Talent ?</h1>

        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Repellendus alias quidem ipsa iste sunt facere, reprehenderit aliquid nisi nostrum asperiores dolores obcaecati ducimus in recusandae expedita debitis delectus architecto quis?
        Dolores nostrum tempora ad aut quidem ab magnam accusantium voluptatibus, illum, eveniet saepe veniam perferendis tempore adipisci doloribus natus, earum quaerat hic sed magni? Commodi ea nam possimus accusantium excepturi.</p>

        <p>Maxime, cum ullam delectus aliquam perferendis enim, totam quis quod recusandae provident, dolores commodi quas a voluptatibus et ad excepturi! Sed illo obcaecati quasi libero natus numquam sit. Ipsum, rem?</p>
    {% elseif version == "ourTalent" %}
        <h1>La liste de nos Talents</h1>

        <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Repellendus alias quidem ipsa iste sunt facere, reprehenderit aliquid nisi nostrum asperiores dolores obcaecati ducimus in recusandae expedita debitis delectus architecto quis?
        Dolores nostrum tempora ad aut quidem ab magnam accusantium voluptatibus, illum, eveniet saepe veniam perferendis tempore adipisci doloribus natus, earum quaerat hic sed magni? Commodi ea nam possimus accusantium excepturi.</p>

        <p>Maxime, cum ullam delectus aliquam perferendis enim, totam quis quod recusandae provident, dolores commodi quas a voluptatibus et ad excepturi! Sed illo obcaecati quasi libero natus numquam sit. Ipsum, rem?</p>
    {% endif %}
    </div>

    {% if talents is empty %}
    <p class="noResult">Aucun résultat n'a été trouvé.</p>
    {% endif %}

    <div class="talentContainer cardContainer">
        {% for talent in talents %}
        <div class="talentCard card">
            {% include "talent/talentCard.html.twig" with {talent: talent} %}
            {% if is_granted('ROLE_ADMIN') %}
                {# <a href="{{path('admin',{crudAction : 'edit' , entityId : talent.id})}}">Modifier</a> #}
                {% set url = ea_url()
                .setController('App\\Controller\\Admin\\TalentCrudController')
                .setAction('edit')
                .setEntityId(talent.id) %}
                <a href="{{ url }}" class="button">Modifier</a>
            {% endif %}
            </div>
        {% endfor %}
    </div>

    <div class="navigation">
    {{ knp_pagination_render(talents, 'pagination.html.twig') }}
    </div>
</section>
</main>
{% endblock %}
